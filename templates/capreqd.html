<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script>
    <title>Capacity Required</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="/">JustGetIt</a>
    </nav>
    <div class="container text-center">
        <h1>CAPACITY REQUIRED</h1>
    </div>
    <form action="capreqd" method="post" style="margin-left:20px; width: 97%">
        {% csrf_token %}
        <div class="form-group row">
            <label class="col-sm-2 col-form-label">Order No.</label>
            <div class="col-sm-10">
              <input type="text"  name="orderno" id="orderno">
            </div>
        </div>

        <div class="form-group row">
            <label  class="col-sm-2 col-form-label">Loaded To Line No.</label>
            <div class="col-sm-10">
                <select name="ltlc" id="ltlc" onchange="calccapd(this.value)">
                    <option>----</option>
                    {% for a in macfill %}
                    <option value="{{a.mac}}" id="a1">{{a.lineno}}</option>
                    {% endfor %}
                  </select>
            </div>
        </div>

        <div class="form-group row">
            <label  class="col-sm-2 col-form-label">Order Quantity</label>
            <div class="col-sm-10">
              <input type="text" name="orderqty" id="orderqty">
            </div>
        </div>

        <div class="form-group row">
            <label  class="col-sm-2 col-form-label">Style SMV</label>
            <div class="col-sm-10">
              <input type="text" name="smv" id="smv">
            </div>
        </div>

        <div class="form-group row">
            <label  class="col-sm-2 col-form-label">Capacity Required (mins.)</label>
            <div class="col-sm-10">
              <input type="text" name="crm" id="crm" onfocus="calccrm()" style="background: #D3D3D3; " readonly>
            </div>
        </div>

        <div class="form-group row">
            <label  class="col-sm-2 col-form-label">Capacity Available per Day</label>
            <div class="col-sm-10">
                
              <input type="text" name="capd" id="capd"  style="background: #D3D3D3; " readonly>
                
            </div>
        </div>

        
        <div class="form-group row">
            <label  class="col-sm-2 col-form-label">Capacity Required (Days)</label>
            <div class="col-sm-10">
              <input type="text" name="crd" id="crd" onfocus="calccrd()" style="background: #D3D3D3; " readonly>
            </div>
        </div>  
        
        <div class="container text-center">
            <a class="btn btn-primary" href="cprtable" role="button">View Capacity Required Table</a>
            <input type="Submit" class="btn btn-primary">
            <input type="reset" class="btn btn-primary">
        </div>
        
       
        

    </form>

    <script language="javascript">
       
        function calccrm()
        {
            var orderqty = parseFloat(document.getElementById("orderqty").value);
            var smv = parseFloat(document.getElementById("smv").value);
            var crm = document.getElementById("crm");
            crm.value = orderqty*smv;
    
        }
    
        function calccrd()
        {
            var crm = parseFloat(document.getElementById("crm").value);
            var capd = parseFloat(document.getElementById("capd").value);
            var crd = document.getElementById("crd");
            crd.value = crm/capd;
    
        }
        function calccapd()
        {
            var ltlc = document.getElementById("ltlc").value;
            var capd = document.getElementById("capd");
            capd.value = ltlc;
            var a1 = document.getElementById("a1");
            var x = document.getElementById("ltlc");
            //alert(x.options[x.selectedIndex].text);
            var y = x.options[x.selectedIndex].text;
           // alert(y);
           a1.value = y;
            x.value = y;
            document.getElementById("a1").innerHTML = y; 
            
            //a1.setAttribute("value","("+ y +")");
           // var e = document.getElementById("a1");
            //var result = e.options[e.selectedIndex].textContent;
            //alert(result); //United State
    
        }
        
       

    </script>
</body>
</html>